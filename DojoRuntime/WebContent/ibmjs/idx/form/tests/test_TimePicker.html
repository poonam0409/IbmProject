<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!--
  Licensed Materials - Property of IBM
  (C) Copyright IBM Corp. 2010, 2012 All Rights Reserved
  US Government Users Restricted Rights - Use, duplication or 
  disclosure restricted by GSA ADP Schedule Contract with IBM Corp.
-->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Test TimePicker</title>

<script type="text/javascript" src="../../tests/dojoVersion.js"></script>

<script type="text/javascript">
dojoCSSImport("../../../../@dojopath@/dojo/resources/dojo.css", "idxStyles");
dojoCSSImport("../../../../@dojopath@/dijit/themes/dijit.css", "idxStyles");
dojoCSSImport("../../../../@dojopath@/dijit/themes/claro/claro.css", "idxStyles");
</script>

<style type="text/css" id="idxStyles">
@import "../../themes/oneui/oneui.css";
@import "../../themes/vienna/vienna.css";
@import url("../resources/claroTimePicker.css");
@import url("../resources/viennaTimePicker.css");
@import "../../themes/test.css";

.idx .TimePicker3 {
	border: 0px none;
	border-collapse: collapse;
	width: 50%;
}
.idx .TimePicker3 .idxTimePickerCell {
	width: 100%;
}
.idx .TimePicker3 .idxTimePickerTextBox {
	width: auto;
}
.idx .TimePicker3 .idxTimePickerIcon {
	padding-top: 0px;
}
.idx .TimePicker3 .idxTimePickerIconLink {
	margin-left: 7px;
}
</style>

<script type="text/javascript">
	var dojoConfig = currentDojoVersion.dojoConfig;
</script>

<script type="text/javascript">
dojoScriptImport("../../../../@dojopath@/dojo/dojo.js", "postDojo");
</script>
 
<script type="text/javascript" id="postDojo">
var modules = [	"dojo.parser",
				"dijit/_base/manager",
				"idx.form.TimePicker",
				"dijit.form.Button"];

var manager = null;

function preParse(modules) {
	var mgr = modules["dijit/_base/manager"] ? modules["dijit/_base/manager"] : dijit;
	manager = mgr;
}
	function validate() {
		var dp = manager.byId("TimePicker");
		dp.validationSuccess = function() {
			console.debug("success");
		};
		dp.validationFailure = function() {
			console.debug("failure");
		};
		manager.byId("TimePicker").validate();
	}

	function setvalue() {
		var dp = manager.byId("TimePicker");
		dp.set("value", new Date());
	}
	
	function getvalue() {
		var dp = manager.byId("TimePicker");
		var dp2 = manager.byId("TimePicker2");
		console.debug("dp.get('value') = " + dp.get("value"));
		console.debug("dp.value = " + dp.value);

		console.debug("dp2.get('value') = " + dp2.get("value"));
		console.debug("dp2.value = " + dp2.value);
	}

	function toggleReadOnly() {
		var dp = manager.byId("TimePicker");
		dp.set("readOnly", !dp.get("readOnly"));
	}
	
	function toggleDisabled() {
		var dp = manager.byId("TimePicker");
		dp.set("disabled", !dp.get("disabled"));
	}
	
dojoRequireModules(modules, null, currentDojoVersion.async, preParse);	
</script>

<script type="text/javascript" src="../../tests/commonTest.js"></script>
</head>
<body style="width: 100%; height: 100%; margin: 0; padding: 0px;">
<a class="navigationLink" href="#maincontent">Skip to main content</a>
<script type="text/javascript">applyThemeToBody()</script>
<a name="maincontent"></a>
	<div id="TimePicker" dojoType="idx.form.TimePicker"
		title="Title"
	></div>
	
	<div dojoType="dijit.form.Button"
		id="validateButton"
		label="Validate"
		onclick="validate"
	></div>
	<div dojoType="dijit.form.Button"
		id="getvalue"
		label="Get Value"
		onclick="getvalue"
	></div>
	<div dojoType="dijit.form.Button"
		id="setvalue"
		label="Set Current Time"
		onclick="setvalue"
	></div>
	<div dojoType="dijit.form.Button"
		label="Toggle ReadOnly"
		onclick="toggleReadOnly"
	></div>
	<div dojoType="dijit.form.Button"
		label="Toggle Disabled"
		onclick="toggleDisabled"
	></div>
	
	<br />
	
	<div id="TimePicker2" dojoType="dijit.form.TimeTextBox"></div>

	<div>showFormatPattern="true"</div>
	<div dojoType="idx.form.TimePicker" showFormatPattern="true" class="TimePicker3" iconPath="../../idx/widget/resources/images/TimePicker16.png" iconWidth="16" iconHeight="16"></div>
</body>
</html>