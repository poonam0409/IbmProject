<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<title>Test TitlePane</title>
<script type="text/javascript" src="../../tests/dojoVersion.js"></script>

<script type="text/javascript">
dojoCSSImport("../../../../@dojopath@/dojo/resources/dojo.css", "idxStyles");
dojoCSSImport("../../../../@dojopath@/dijit/themes/dijit.css", "idxStyles");
dojoCSSImport("../../../../@dojopath@/dijit/themes/claro/claro.css", "idxStyles");
</script>

<style type="text/css" id="idxStyles">
@import "../../themes/oneui/oneui.css";
@import "../../themes/vienna/vienna.css";
@import "../../resources/claro_idx.css";
@import "../../resources/vienna_idx.css";
@import "../resources/claroECMTitlePane.css";
@import "../../themes/test.css";
</style>

<script type="text/javascript">
	var dojoConfig = currentDojoVersion.dojoConfig;
</script>

<script type="text/javascript">
dojoScriptImport("../../../../@dojopath@/dojo/dojo.js", "postDojo");
</script>
 
<script type="text/javascript" id="postDojo">
var modules = [	"idx.layout.ECMTitlePane",
				"dojo/dom-construct",
				"dojo/dom-class",
				"dijit/_base/manager",
				"dijit.form.Button" ];

var manager  	 = null;
var Button   	 = null;
var addClass 	 = null;
var domConstruct = null;

function preParse(m) {
	var mgr = m["dijit/_base/manager"] ? m["dijit/_base/manager"] : dijit;
	Button  = m["dijit/form/Button"];
	domConstruct = m["dojo/dom-construct"] ? m["dojo/dom-construct"] : dojo;
	addClass = m["dojo/dom-class"] ? m["dojo/dom-class"].add : dojo.addClass;	
	manager = mgr;
}

function doChange() {
	setTimeout(function() {
		var titlePane = manager.byId("test");
		titlePane.set("title", new Button({label: "OK"}).domNode);
	}, 1000);
	
	setTimeout(function() {
		var titlePane = manager.byId("test2");
		var div = domConstruct.create("DIV", {innerHTML: "This is ..."});
		addClass(div, "dijitInline");
		titlePane.set("title", div);
	}, 2000);
	
	setTimeout(function() {
		var titlePane = manager.byId("test3");
		titlePane.toggle();
		titlePane.set("title", "closed");
	}, 3000);
	
	setTimeout(function() {
		var titlePane = manager.byId("test4");
		titlePane.set("tooltip", "This is a hover help.");
	}, 4000);
	
	setTimeout(function() {
		var titlePane = manager.byId("test5");
		titlePane.set("title", "Long long long long long long long long long long long long long long long long.");
	}, 5000);
	
	setTimeout(function() {
		var titlePane = manager.byId("test");
		titlePane.set("title", "Done");
	}, 6000);
};

dojoRequireModules(modules, null, currentDojoVersion.async, preParse);

</script>
<script type="text/javascript" src="../../tests/commonTest.js"></script>
</head>
<body style="width: 100%; height: 100%; margin: 0; padding: 0px;">
<a class="navigationLink" href="#maincontent">Skip to main content</a>
<script type="text/javascript">applyThemeToBody()</script>
<a name="maincontent"></a>
<div style="margin: 8px;">
	<input type="button" value="do test" onclick="doChange();"/>
	<div id="test" style="width: 50%;" dojoType="idx.layout.ECMTitlePane" closable="true">TitlePane</div>
	<div id="test2" style="width: 300px;" dojoType="idx.layout.ECMTitlePane" title="title">URL</div>
	<div id="test3" style="width: 400px;" dojoType="idx.layout.ECMTitlePane" resizable="true" open="true" title="opened">Selected</div>
	<div id="test4" style="margin: 8px;" dojoType="idx.layout.ECMTitlePane" title="use href" href="../resources/claroECMTitlePane.css"></div>
	<div id="test5" style="width: 400px" dojoType="idx.layout.ECMTitlePane" title="closable" closable="true" resizable="true"></div>
	<div id="test6" style="width: 400px;" dojoType="idx.layout.ECMTitlePane" title="Help" helpUrl="http://www.ibm.com" closable="true">Help Link</div>
	<div id="test7" style="width: 400px;" dojoType="idx.layout.ECMTitlePane" title="Help" helpUrl="http://www.ibm.com" closable="true" resizable="true">Help Link</div>
	<div dojoType="idx.layout.ECMTitlePane" title="Show Icons on hover" helpUrl="http://www.google.com" closable="true" resizable="true" hideIcon="true">Test</div>
</div>
</body>
</html>
